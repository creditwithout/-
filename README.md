# Seteki¬Æ Teamü§ñ

<img src="https://readme-typing-svg.demolab.com?font=Fira+Code&pause=1000&color=FF6B6B&center=true&vCenter=true&width=435&lines=Seteki+Team;Seteki+team+want_food;Looking+Up" alt="Animated header" />

![Add a subheading (16 x 5 cm) (1)](https://github.com/user-attachments/assets/76fb60b7-f7db-4c3f-b5d6-75c7abea3ad6)

[![Instagram](https://img.shields.io/badge/Instagram-%23E4405F.svg?style=for-the-badge&logo=Instagram&logoColor=white)](https://www.instagram.com/setekiteam/)
[![YouTube](https://img.shields.io/badge/YouTube-%21E5395F.svg?style=for-the-badge&logo=YouTube&logoColor=white)](https://www.youtube.com/@setekiteam)
[![GitHub](https://img.shields.io/badge/GitHub-%23E4419F.svg?style=for-the-badge&logo=GitHub&logoColor=white)](https://github.com/seteki/Seteki-Team)

This is the official repository of the Seteki¬Æ team that will represent Instituto Episcopal San Jos√© in the WRO category: Future Engineers 2025, Panama.
<br><br>

## Overview of our repository folders üìú

```
üì¶ WRO2025 Seteki
‚îú‚îÄ‚îÄ üìÅ 3D-models             # Contains 3D design files for the robot's components
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ All 3D files      # All robot versions
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ README.md         # 3D models explained
‚îú‚îÄ‚îÄ üìÅ Documentation         # All about our media
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Regional[1]       # Regional 1 Git Hub Printable
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ README.md         # Explanation
‚îú‚îÄ‚îÄ üìÅ ARA Versions          # Robot ARA versions 
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ARA 1.0           # 1.0
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ ARA 1.1           # 1.1
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ README.md         # Explanation
‚îú‚îÄ‚îÄ üìÅ electrical-schemes    # Contains circuit files
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Diagrams          # All the circuit diagrams
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ README.md         # Explanation
‚îú‚îÄ‚îÄ üìÅ robot-photos          # All the robot photos
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Photos            # Every Photo
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ README.md         # Explanation
‚îú‚îÄ‚îÄ üìÅ src                   # All the scripts of our robot
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ First round       # First round code
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Second round      # Second round code
‚îÇ   ‚îî‚îÄ‚îÄüìÑ README.md          # Explanation
‚îú‚îÄ‚îÄ üìÅ team-photos           # Photos of seteki members.
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Normal Photo      # Seteki formal photo
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ Funny Photo       # Seteki random photo xd
‚îÇ   ‚îî‚îÄ‚îÄüìÑ README.md          # Explanation
‚îú‚îÄ‚îÄ üìÅ video                 # Robot videos
‚îÇ   ‚îî‚îÄ‚îÄüìÑ README.md          # Explanation
‚îî‚îÄ‚îÄ üìÑ README.md             # Main documentation for the project
```


* ` 3D-models` - includes all the 3d printed parts of the robot that will go to the regional competition, and also contain and explanation about every piece designed [Here](https://github.com/seteki/III-Wind/tree/main/3D-models).
* `documentation` - Here you'll find all the GitHub Printables for every competition. [Here](https://github.com/seteki/III-Wind/tree/main/documentation).
* `ARA Versions` - Here you'll see every version of our robot. [Here](https://github.com/seteki/III-Wind/tree/main/ARA%20Versions)
* `electrical-schemes`- contains the circuit diagrams of all the electrical parts of the seteki robot (ARA 1.1). [Here](https://github.com/seteki/III-Wind/tree/main/electrical-schemes).
* `robot-photos` - photos of every angle of our robot for you can see it. [Here](https://github.com/seteki/III-Wind/tree/main/robot-photos)
* `src` - this folder contains every code that makes our robot work, it have explanation for every part of the codes. [Here](https://github.com/seteki/III-Wind/tree/main/src)
* `team-photos` - photos of the seteki team, it has the normal photo and one funny photo. [Here](https://github.com/seteki/III-Wind/tree/main/team-photos)
* `video` - the link to our youtube channel where you can see our robot in action completing both challenges. [Here](https://github.com/seteki/III-Wind/tree/main/video).
* `README.md` - Here's all our journey in the development of our robot here we explain every part of the robot making. [Here](https://github.com/seteki/III-Wind/tree/main).

> [!CAUTION]
> Due to GitHub problems some charts and GIFs can load a little bit slow, so we beg you to be patient while reading to not miss anything, THANKS!


##  Part 1 / About Usüó£Ô∏è

<div align="center">
  <img src="https://github.com/user-attachments/assets/8d7a8e97-4cb8-4814-b2b3-1237026a9031" alt="Texto descriptivo" width="500"/>
</div>

We are Team Seteki, proudly representing Instituto Episcopal San Jos√© in Panama‚Äôs World Robot Olympiad (WRO) Future Engineers 2025 category. Our mission is to blend technology and innovation, knowing that innovation can go hand-in-hand with responsibility. The name Seteki comes from the Atelopus zeteki.

> [!NOTE]
> Explication of the name after `About us` part.

### Our Philosophy 
We are a team in which there are no hierarchies in the team, we each develop our parts and we are all involved and we `KNOW` every part of the realization of this whole project that would be our robor [ARA](https://github.com/seteki/III-Wind/tree/main/ARA%20Versions), we have values of humility and perseverance as a team, both when we work as a team as well as when we go to compete, we are a team in which two already have experience in what is robotics and specifically the WRO competition and we have a rookie in this world of what robotics is.

With our project we want to innovate and bring something that is well worked to this competition, we want the effort put into this robot to be noticed.

The truth is that our team is in a balance that we feel comfortable and perfect, each one develops a part that is essential for the other part, so we need each other and are values that apart from robotics and technological competition, are values that the WRO is also seeking to establish in all its competitors.

Without further ado, let's continue btw :) 


## Team Name Explication ü•∏

The name of our Team ( [Seteki](https://es.wikipedia.org/wiki/Atelopus_zeteki) ), comes from an animal called ‚Äò'[ ***Atelopus zeteki*** ](https://static.inaturalist.org/photos/56362/medium.jpg)‚Äô'. 
It is a small species of anuran amphibian of the Bufonidae family.
<br>
<img align="center" width="300" src="https://github.com/user-attachments/assets/e801757a-2f27-4df2-8a50-14a9215fb0a7" alt="ARTURO" />
<br>
When we chose this name, it was because we are people who are using the possible resources to develop these robots and technology, but sometimes we forget that all this comes from natural resources and we are taking advantage of all this and we do not take care of it, and as a small annex we wanted to give this message that we also have a responsibility to the world and in addition to this we also want to have our country represented in our team.
<br>
<br>
</p>
</div>

> [!WARNING]
> This species is in danger of extinction, more information [here](https://es.wikipedia.org/wiki/Especie_en_peligro_cr%C3%ADtico_de_extinci%C3%B3n).
<br>


## Team Presentationü§ë <a class="anchor" id="team"></a>

![seteki (1)](https://github.com/user-attachments/assets/a73747ab-a717-4fd6-9672-8768f26e1390)

<br>

###  Jean üé∂
#### Age: 17


<div style="display: flex; align-items: flex-start;">
  <img align="left" width="190" src="https://github.com/user-attachments/assets/ab9cf8a3-d38c-4300-bf55-b3d573acac8a" alt="ARTURO" style="margin-right: 20px;"/>
  <p><be> </p>   ‚ûñ Name: Jean Paul Sosa Cruz. <br> <br> <br>
‚ûñ Team Role: 3D Designer, Git Hub Documentation, Part of the electrical circuits, Robot logic.  
    <br> <br> ‚ûñ Hobbys: Guitar, Bass, Music, Cinema, Soccer, Robotics, Books ngl. <br> <br>‚ûñ Goals With The Team: To grow together, innovate and to have fun btw. <br> <br> ‚ûñ Personal Trayectory: 2022 WRO Germany, Music Band for 7 years, 2017 Kodu Panama Oeste, 2024 WRO TUrkiye.
</p>
</div>
<br>
<br>


###  Jonathan ‚öΩ
#### Age: 15


<div style="display: flex; align-items: flex-start;">
  <img align="left" width="190" src="https://github.com/user-attachments/assets/09ffcdc2-ccd7-4e92-b597-8cb9c49b8a82" alt="ARTURO" style="margin-right: 20px;"/>
  <p><be> </p>   ‚ûñ Name : Jonathan Michael Sosa Cruz. <br> <br> <br> ‚ûñ Team Role: Electronics and circuits, The mechanic of the team, Scheme designer. <br> <br> ‚ûñ Hobbys: Soccer, Video Games, Bass. <br> <br>‚ûñ Goals With the team: he just wants the competition to have good food. <br> <br> ‚ûñ Personal Trayectory: WRO Germany 2022, Member of the music band, several soccer teams.
</p>
</div>
<br>
<br>


###  Anthony ü§ìüëÜ
#### Age: 17


<div style="display: flex; align-items: flex-start;">
  <img align="left" width="190" src="https://github.com/user-attachments/assets/9e6c9c4d-d329-4221-ada5-9fca58f2a04e" alt="ARTURO" style="margin-right: 20px;"/>
  <p><be> </p> ‚ûñ Name: Anthony Bruce G√≥mez Arjona. <br> <br> <br> ‚ûñ Team Role: Programmer, Robot logic, Part of the electrical circuits. <br> <br> ‚ûñ Hobbys: Physics, learning in youtube, Science, music. <br> <br> ‚ûñ Goals with the team: Bring something totally different to this competition and try to win and to get free food. <br> <br> ‚ûñ Personal Trayectory: 2024 honorable mention at the physics nationals, 2024  3rd Place Senacyt science fair, Member of the music band.
</p>
</div>
<br>
<br>




> [!NOTE]
> To see our funny photo you can press [here](https://github.com/seteki/III-Wind/tree/main/team-photos)

    

<br>

### Tutor: Edgar Ruiz ü§ñ

#### Age: 26

<div style="display: flex; align-items: flex-start;">
  <img align="left" width="190" src="https://github.com/user-attachments/assets/f805cd6a-0317-45e8-bec0-a24e342ec8df" alt="ARTURO" style="margin-right: 20px;"/>
  <p><be> </p> <br><br> ‚ûñ Name: Edgar Antonio Ruiz Caballero <br> <br> <br> ‚ûñ Goals with the team: Wants to innovate with the team, grow as a team. <br> <br> <br> ‚ûñ Personal Trayectory:  - Active participant in robotics competitions such as RoboCup Jr , WRO, and others since 2015.  - National Winner of RoboCup Jr 2017 and team coachrepresenting Panama in Nagoya, Japan. - Third Place National Winner in WRO 2018 as team coach for The Oxford School. - National Winner of RoboCup Jr 2018 and team coach representing Panama in Sydney, Australia in 2019. - Participant in 2021 STEAM training hosted by Grupo Editorial EDELVIVES in Madrid, Spain. - National Winner of WRO 2022 and team coach representing Panama in Dortmund, Germany. - National Winner of WRO 2024 (World Robot Olympiad) and team coach representing Panama in Izmir, Turkey.


</p>
</div>









<br>
<br>
<br>
<br>


## Part 2 / Robot Chasis üöó

![seteki (4)](https://github.com/user-attachments/assets/447d12e5-5066-4fd1-8f77-a35b9bcd20a2)


In this part 2 we are going to explain everything that supports our robot, that is the base, how we made it, the reason for each part, the platforms we used to design everything related to the chassis, all the implements we used physically, and how each mechanical part of our cart or robot works.

### Platforms we use 
For the chassis of our cart in our team we decided to adjust the chassis based on our needs, and that function is fulfilled by 3D printing, as it allows us to make the parts just to the extent in which we require them, as a first point we use two platforms for 3D modeling, OnShape and `FUSION`, although most of the robot is made in Onshape.
<br>

| <img align="center" width="250" src="https://github.com/user-attachments/assets/5bb661e5-72e2-47c4-9949-9f8584b600df" alt="ARTURO" />| <img align="center" width="250" src="https://github.com/user-attachments/assets/e931652d-89c3-4398-87e1-76d7f54cc6f4" alt="ARTURO" /> |
| :------------: |:-------------:| 
|[ OnShape ](https://www.onshape.com/en/)|[ Autodesk FUSION 360 ]( https://www.autodesk.com/products/fusion-360/overview )

### OnShape:

Onshape is a cloud-based 3D CAD platform that allows real-time collaboration and requires no installation, as it runs entirely in a web browser. It supports cross-platform access from any device, making teamwork easy and efficient. Key advantages include built-in version control, secure cloud storage, and integrated tools for design and data management. With fast iteration, instant sharing, and automatic backups, Onshape streamlines modern product development.


<div align="center">
  <img src="https://github.com/user-attachments/assets/ea55d144-9b2f-453c-9573-a822689a7ef4" alt="Texto descriptivo" width="500"/>
</div>

Most of our robot is made on this platform, in which we already gave a little introduction about it, when we go breaking down each 3D part of the robot will be explained.

### FUSION 360: 

Fusion 360 is a cloud-based 3D CAD, CAM, and CAE software developed by Autodesk. It combines design, engineering, simulation, and manufacturing in one platform. Users can create precise 3D models, assemblies, and technical drawings. Its parametric and freeform modeling tools allow flexibility and fast changes. Fusion 360 also offers simulation features to test stress, motion, and heat. With built-in CAM, it supports CNC machining up to 5-axis. It includes PCB and electronics design, making it ideal for integrated projects. Cloud collaboration enables real-time teamwork and version control. Fusion 360 is user-friendly, cross-platform, and widely used by students, engineers, and makers.



<div align="center">
  <img src="https://github.com/user-attachments/assets/08d0f550-2a6c-4cec-952d-3d2074889d5e" alt="Texto descriptivo" width="300"/>
</div>

the major use we made of FUSION 360 was to model the gears that we implemented in the robot, the use of FUSION was important for the team to model, and to implement `FUTURE IMPROVEMENTS` for our robot.

__________________________________________________________________________________

### Robot Main Chasis support

For the base of our robot, we decided to design it on the [OnShape](https://www.onshape.com/en/) platform, and the main points we wanted to cover to design our main chassis are those of: <br><br>
‚ñ∂Ô∏è `Lightweight model`<br>
‚ñ∂Ô∏è `Friendly and integrated model at the time of physical assembly.`<br>
‚ñ∂Ô∏è `Futuristic but practical and simple model.`<br><br>

> [!NOTE]
> To see each 3D model of our robot on GitHub you can click [`HERE`](https://github.com/seteki/III-Wind/tree/main/3D-models), or go directly to the folder of `3D models` of our robot, or you can also see them graphically in the [`README.md`](https://github.com/seteki/III-Wind/blob/main/README.md) and below each image or `GIF` of our 3D pieces open a link to see the modeling shown, Thank you :)




<div align="center">
  <img src="https://github.com/user-attachments/assets/4bbf060d-f576-48be-8479-64f05ce82708" alt="Texto descriptivo" width="450"/> |
</div>

For the base of our robot we did it on the basis of four homogeneous parts, which would be: <br>

‚ñ∂Ô∏è `Ultrasonic Sensors`<br>
‚ñ∂Ô∏è `Steering`<br>
‚ñ∂Ô∏è `Motor and shaft`<br>
‚ñ∂Ô∏è `Top plate`<br><br>

### Steering Parts

Our 3D `Steering` made in onshape, was made with the plans to make it in a simple but functional way, and it is mainly based on an `Ackerman system`, but as you can clearly see in our address, we only took the principle because in itself it has quite a few differences but in essence it is the base of an `Ackerman system`.



<div align="center">
  <img src="https://github.com/user-attachments/assets/2d60315c-ab8f-4316-b973-59154d61b092" alt="Texto descriptivo" width="600"/>
</div>



> [!IMPORTANT]
> To more details in the explication of `Ackerman System`, PLease go [Here](https://www.mathworks.com/help/vdynblks/ref/steeringsystem.html).

The Ackermann steering system is a geometric arrangement used on vehicles with two steerable front wheels, designed so that during a turn all four wheels roll along concentrc arcs without lateral slip. Key points:

‚ñ∂Ô∏è `Fundamental Objective`:
Ensure that the extended axes of the inner and outer front wheels intersct at the vehicle‚Äôs Instantaneous Center of Curvature (ICC), so each wheel follows its own circular path.

‚ñ∂Ô∏è `Geometry`:

<div align="center">
  <img src="https://github.com/user-attachments/assets/f4c47f56-8616-4024-b3a7-c030b0d67fce" alt="Texto descriptivo" width="500"/>
</div>

The equation shown define the ideal steering angles for the inner and outer front wheels (Œ¥‚Çô and Œ¥‚Çí) in an Ackermann geometry.

L is the wheelbase (distance between front and rear axles).

T is the front track (lateral spacing between the two front wheels).

R is the desired turning radius measured from the midpoint of the rear axle to the curve‚Äôs center.

When you turn, the inner wheel must pivot more sharply than the outer one, because it follows a tighter circular path (radius‚ÄØ=‚ÄØR‚ÄØ‚Äì‚ÄØT/2) while the outer wheel follows a looser path (radius‚ÄØ=‚ÄØR‚ÄØ+‚ÄØT/2). Taking the arctangent of the wheelbase divided by each effective radius yields the exact mechanical angle each wheel must achieve so that all wheels roll without sideways slip. This precise relationship minimizes tire scrubbing, distributes cornering forces correctly, and ensures the vehicle tracks smoothly through turns.

‚ñ∂Ô∏è `Mechanical Implementation`:
Steering linkage (‚Äútie rod‚Äù) connects the two steering knuckles. A fixed pivot point on the chassis or steering arm drives the tie rod so that lateral movement produces the correct differential angles between inner and outer wheels.

‚ñ∂Ô∏è `Ackermann Angle`:
The steering arms (on the knuckles) are canted such that imaginary lines drawn through them meet at a point on the rear axle.
The exact cant angle depends on track width and the chosen tie‚Äërod attachment points.


<div align="center">
  <img src="https://github.com/user-attachments/assets/2ae8f0ca-a586-4eee-ba1f-e2b322e52184" alt="Texto descriptivo" width="500"/>
</div>

### Motor & movement parts:

The part of the motor and the movement of the rear axle was what complicated us a little more in the summer when we started with the approach of our small robot, the part of the mobilization will have `MAJOR OPTIMIZATIONS` in the future.


<div align="center">
  <img src="https://github.com/user-attachments/assets/3c0d61a8-f96d-4e0b-91ec-f7d66e28e769" alt="Texto descriptivo" width="400"/>
</div>

This motor part assembly it's formed by a electric motor rigidly mounted to the chassis whose vertical output shaft carries a bevel pinion that meshes at 90¬∞ with a larger bevel‚Äëgear crown affixed to a transverse drive shaft; this bevel pair redirects motor torque into the shaft, which spans the chassis and drives both rear wheels solidly linked (no differential). The drive shaft is supported by pillow‚Äëblock bearing housings containing bearings or bushings that center it, resist radial loads, and minimize friction, while shaft‚Äëto‚Äëhousing adapter blocks ensure precise alignment and easy removal for maintenance. Fasteners and keys lock the gears and shaft components together, preventing slippage under load; as the motor turns, torque flows through the bevel gears into the shaft, spinning the rear axle smoothly and reliably even under moderate loads.

> [!CAUTION]
> Due to GitHub problems some charts and GIFs can load a little bit slow, so we beg you to be patient while reading to not miss anything, THANKS!

### Top Plate
And the last part but not least the top casing which is where all the electronic components and the camera, the battery in its all the heart of our cart.

<div align="center">
  <img src="https://github.com/user-attachments/assets/430c47b0-6c84-4dbb-a3fc-c2b2c57241f4" alt="Texto descriptivo" width="300"/>
</div>



> [!NOTE]
> To see each 3D model of our robot on GitHub you can click [`HERE`](https://github.com/seteki/III-Wind/tree/main/3D-models), or go directly to the folder of `3D models` of our robot, or you can also see them graphically in the [`README.md`](https://github.com/seteki/III-Wind/blob/main/README.md) and below each image or `GIF` of our 3D pieces open a link to see the modeling shown, yes it's again me btw :)

__________________________________________________________________________________

### Equipment
In this part we are going to detail all the equipment of printers and filament with which we were able to develop the whole chassis of our cart.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/e3b05990-97dd-4f41-8339-714ed0d58b2d" alt="ARTURO" />| <img align="center" width="250" src="https://github.com/user-attachments/assets/d5e951fe-aa02-42a5-b610-03627ea0b65e" alt="ARTURO" /> |
| :------------: |:-------------:| 
|[ Ender-3 V3 SE ](https://www.creality.com/products/creality-ender-3-v3-se)|[ Ender S1 PRO ]( https://www.autodesk.com/products/fusion-360/overview )
|[ Amazon link ](https://www.amazon.com/Impresora-nivelaci%C3%B3n-autom%C3%A1tica-transferencia-filamentos/dp/B08C74X64X/ref=sr_1_2_sspa?adgrpid=168074038763&dib=eyJ2IjoiMSJ9.iqJ0jKuJtksTke366q3Bz3C3cXadCq3bw9XiJQACxjefPnMFslJMoU9FEXK0tG6XjCkdFmmD4X1aTeHiLj3ej5MBTqgJ1JNOBKcc8-ESF7Kabcmd73G5SpiT07UKW730V9E64e4KWg1t3P3IL9XXu1qD466zEBqhPoki67fBSNf7MOdH_X5KNHbVDyuoZcK6o_oEf6tnHXi-6ujbjvoNFdRB_qxjiBYlJZfLwdf3PY0.Uo8KmQfK7pP9HEp_0iFiwLd3BApj7LYOSNGFAOzyVm0&dib_tag=se&hvadid=715805541552&hvdev=c&hvlocphy=1011097&hvnetw=g&hvqmt=e&hvrand=905146156206853878&hvtargid=kwd-2186021485897&hydadcr=5362_13432544&keywords=ender+v3+se&mcid=50b9f0b08adc31f3961447ac4362379c&qid=1751229901&sr=8-2-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1)|[ Amazon Link ]( https://www.amazon.com/-/es/Ender-S1-Pro-temperatura-construcci%C3%B3n/dp/B09VB34771/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=14LL2GI47LOZR&dib=eyJ2IjoiMSJ9.MzjlH8DBKCX-eiGhicA3QXLwMmST4HI3AmU7yofDM_J9XUaekyUkOW0GbQ-Y_etD2iNAij_vrLyZLt0HyfK1BqSw25y07hU4-e2i5lu3DS_uN2nRU6xUbP32KdgZ5PyuXe5YPzSXoB6Sx2mG1SsfPJXRN5kHgFjj8Syu94WckP5laMc81ar9Uo0GAIH1AKKc9-JT3RMU9yFC5S27VtjDjejACMsfLe24QipsCFgLwc0.7A6-FG6_b6x5VMePCaBwlPPiOLW4AZzq-HvJUW34KIA&dib_tag=se&keywords=creality%2Bender%2Bs1%2Bpro&qid=1751230600&sprefix=creality%2Bender%2Bs1%2Bpro%2Caps%2C135&sr=8-1&th=1 )

### Filaments
| <img align="center" width="250" src="https://github.com/user-attachments/assets/9f6d5c0c-b1e3-4f8f-981d-ea790f763a72" alt="ARTURO" />| <img align="center" width="250" src="https://github.com/user-attachments/assets/7fd598eb-aed5-40f8-971d-6300ef5eda8c" alt="ARTURO" /> |
| :------------: |:-------------:|
|[ Creality Filament PLA (Multiple Colours) ](https://www.creality3dofficial.com/products/color-ender-pla-filament)|[ Creality Filament PETG (Multiple Colours) ]( https://store.creality.com/mx/products/cr-petg-filamento-de-7-75-mm-1kg )
|[ Amazon ]( https://www.amazon.com/Creality-filamento-impresi%C3%B3n-rendimiento-precisi%C3%B3n/dp/B0C4TNQZYY/ref=sr_1_1_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2B2QGWU2HQVUB&dib=eyJ2IjoiMSJ9.v7fSxJfMTwpGcNl0rsna1ffrAEtyzK65z-k7LK5PBcX8t-TsP_xpeX1lvcnE8o9CNdQyFYyTeiypoBY5NcFo_Kpqt3viQ1nmf8RyAbZDkgSVgMZU2iseMAfaw9jJ6xc6YPHZ2Hw3KgA2l4gMC--fF1LW50wY-AmA3Q3EUCl17IG8Qu3TIBBx1FOaFbiW0M_3odvGSWRCL9r5mNp79ByCecSWRjbjf6uz0n3_zKGbMi0.LjlTAWSeNNaJNSWFjidzXLMMdrdouDbXeWzdat4uczY&dib_tag=se&keywords=creality%2Bpla&qid=1751245968&sprefix=creality%2Bpl%2Caps%2C230&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1 )|[ Amazon ]( https://www.amazon.com/-/es/Filamento-impresora-precisi%C3%B3n-impresi%C3%B3n-resistente/dp/B0C8NP63GD/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=PW2IVQ6LM6QU&dib=eyJ2IjoiMSJ9.EAhtP1bUTTKYI7RehZdb5qdH8iGW7B1oLE4OEJhQAeYYAmGpDE9Z9DtFwppiGXgVye1hfy9V2Kqp4mL6BghapUnGOiUikMBKh0FIEsiGMGVaVNkWlMKe74XdmYPfNzzZjjyLpZ2setYMfEiEJmjdto1BKF1l3C3tTIkYUqzblyWeTqAGH8OgxTThKtckZg-4GVjNtUUhtPh53jYqgJKBptbnBjgorebsFDbSHgqC9H4.wRldad39uM27f_z2eKCkGCgQPXpOJ6IHMqCfbJfhlvs&dib_tag=se&keywords=creality%2Bpetg&qid=1751246067&sprefix=creality%2Bpet%2Caps%2C235&sr=8-1&th=1 )

## Part 3 / Circuits and Electronicsüõ∞Ô∏è

![seteki (6)](https://github.com/user-attachments/assets/4b465899-c3a8-49f5-9f14-f2f48f152eec) 
In the circuit part, we will describe each electrical component of the robot, a brief summary with a datasheet of each component, we will explain the diagram of the whole electrical circuit, as well as its explanation in the readme and in the folders of the folder, we will also detail where we got all the parts.

> [!TIP]
> In the [README.md](https://github.com/seteki/III-Wind/blob/main/README.md) you can find an cost analysys of every single component int the robot.

### Diagrams
      For the realisation of all the digital diagrams of our ARA 1.1 robot, we use the fritzing platform.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/261e3e3d-fa99-410f-860d-8a0ae286ae63" alt="ARTURO" />|
| :------------: |
|[ Fritzing ](https://fritzing.org/)|
|[ Download ](https://fritzing.org/download/ )|

#### Fritzing: Fritzing is an open-source tool that helps users design and document electronic circuits. It features a visual interface with breadboard, schematic, and PCB views. Users can create circuit diagrams, design custom PCBs, and export files for manufacturing. It's widely used in education, prototyping, and the maker community.

#### Seteki Diagram:

| <img align="center" width="600" src="https://github.com/user-attachments/assets/eec8448b-935f-4c5c-8713-43f7c836acb6" alt="ARTURO" />|
| :------------: |
| Scheme |
|[ Circuits Folder ](https://github.com/seteki/III-Wind/tree/main/electrical-schemes )|

#### Explanation:

- Microcontroller (Arduino Nano): Acts as the central processing unit, managing all sensor inputs and actuator outputs.

- Ultrasonic Sensors (HC-SR04): Three sensors (left, center, right) provide obstacle detection and distance measurement. Each is connected to the digital I/O pins via Trig and Echo lines, powered by +5V and GND.

- Power Supply: A 12V source is regulated to 5V using a buck converter (LM2596), ensuring safe voltage levels for the logic components. The regulated output supplies the sensors and the Arduino.

- Motor Driver: Controls a DC motor via PWM signals from the Arduino. It receives 12V for motor power and 5V logic input. The driver controls direction and speed of the rear motor.

- Servo Motor: Controlled via a PWM signal for steering purposes (Ackermann-style likely), connected to one of the digital pins.

- Gyroscope/Accelerometer (MPU-6050): Connected via I¬≤C (SDA, SCL) for IMU-based motion tracking, feeding orientation and movement data to the controller.

- OpenMV Cam: A vision system interfaced via UART and power lines. It provides object detection, color tracking, or line following. Its TX and RX are connected to the Nano for serial communication.

### PCB Photos
     Here will be two photos of the PCB.

| <img align="center" width="600" src="https://github.com/user-attachments/assets/e953a401-6937-4d0f-9df1-aa5a5ae876dd" alt="ARTURO" />|
| :------------: |
| On Top |
|[ Circuits Folder ](https://github.com/seteki/III-Wind/tree/main/electrical-schemes )|

| <img align="center" width="600" src="https://github.com/user-attachments/assets/ab50d039-a186-4d38-869b-b6ecfffcd601" alt="ARTURO" />|
| :------------: |
| Below |
|[ Circuits Folder ](https://github.com/seteki/III-Wind/tree/main/electrical-schemes )|


### Vehicle Components
      Every robot electrical component
- `Ultrasonic Sensors` [3] [HC-SR04](https://naylampmechatronics.com/blog/10_tutorial-de-arduino-y-sensor-ultrasonico-hc-sr04.html)
  - [Buy Here](https://www.amazon.es/DIGISHUO-ultras%C3%B3nico-medici%C3%B3n-distancia-bricolaje/dp/B0DPZTNKHD/ref=sr_1_2?dib=eyJ2IjoiMSJ9.KWu3ONR1En4VNZKqftz9pqHXgJVzNUjUettwvJ5Q2zFczVbr-4ccDv8cc8KAAsjLvRsRd3rZzChGeqqpYfj0q5hAzUzgA18qE9e4AC5A7QOv-J2YzEVIWnXnwKNHlXDFHp3T43n-_S45BhSgV-lVuzloEYtd8AG5neDnsgkq5s4.pjOwD68Isdbx_nDkPJopwDABYM0tAUDZUAT9AWORB6k&dib_tag=se&keywords=hc-sr04&qid=1751599583&sr=8-2)  
- `Motor Driver` [1] [Puente H TB6612FNG 1.2A](https://naylampmechatronics.com/drivers/200-driver-puente-h-tb6612fng.html)  
  - [Buy Here](https://www.amazon.es/CCCAZ1-Controlador-Motor-Microcontrolador-TB6612FNG/dp/B0DM5ZBBH5/ref=sr_1_2?__mk_es_ES=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2V1FSLUVPF15O&dib=eyJ2IjoiMSJ9.drPiQv5n5zUlDRjiMZfzDt4WoCkLFktSeDGq3UpgKB_GjHj071QN20LucGBJIEps.WtG8If0gs97LMDdHzBP8KDkQhLRdNNAfeAtPqVAgOvw&dib_tag=se&keywords=TB6612FNG&qid=1751600306&sprefix=puente+h+tb6612fng%2Caps%2C534&sr=8-2)
- `Servo motor` [1] [INJORA 7KG](https://www.injora.com/products/injora-injs2065-7kg-high-voltage-waterproof-2065-digital-servo-with-mount-for-1-18-trx4m)
  - [Buy Here](https://www.amazon.com/-/es/digital-impermeable-voltaje-Sub-Micro-Crawler/dp/B0BLBMVYCW/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=39JTCQM4FZA3I&dib=eyJ2IjoiMSJ9.pDedzVFIE59TbIdDwLGPwOAFmy82UT1EuQvk8JTTXqtkyRBFyKEAAufhZUpq5vx_FnvZ5OAjZ4KEp8JMkhCWO0iHDSbnvJ9NJk2g1t7tRKHzUy9fTyfkHTF-Dhous70ssTGi1g0P1LwUqtXB-ypnErwHnT8cZ4e7TQQd0oB3ShcEI10PXvtgX1yJY3xBYtK2XjYisRnFOjZ3KWU6VbN1VbIaEmkpZyhYRRrYRru6BypqC11jBqRKNAeBpAOEqce-GvxjACyk1E_lgXyHkF7Z4rgH5FoNwDqMZJz6SllBV9A.kNqoUJ1ZlRpT1GnD6B2zXMxWpgrfE-THG5jZS3YRTPc&dib_tag=se&keywords=injora%2Bservo%2B7kg&qid=1751600685&sprefix=injora%2Bservo%2B7kg%2Caps%2C162&sr=8-1&th=12)
- `Motor` [1] [Metal Gearmotor 25Dx65L mm HP 12V with 48 CPR Encoder](https://www.pololu.com/product/4843)
  - [Buy Here](https://www.pololu.com/product/4843)
- `Voltage Regulator` [1] [LM2596](https://naylampmechatronics.com/conversores-dc-dc/196-convertidor-voltaje-dc-dc-step-down-3a-lm2596.html)
  - [Buy Here](https://www.amazon.com/LM2596-Convertidor-alimentaci%C3%B3n-Estabilizador-electr%C3%B3nico/dp/B08RS9BSGB/ref=sr_1_2_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2LFD46BH2QD7H&dib=eyJ2IjoiMSJ9.XbA9hfTcASHj_zjN76EOs4Hb4RIo8YjjnrlfWJSAAgur-RJ_ESRKzdbRJEwwRxwbk3PefNnaGTOAWpHikoY0h9b5K-zo7Gy5XW1JDqF0V-7EXoFGSqjs6ZlkcvPqeMXbGQFqtETaYYMULD-IrBwC6JghmugcAWpEx2sYlRnns2h7Q_nuL3pTQEsrlaeu277Y_ujPQK9rL1p9CCvWKvXRCTPSIEMcc6iJ50oCaLLsfjM.tFMp1MvvyU399_R0bza0MDUXWv5wxadCtTdTNfn-ADU&dib_tag=se&keywords=regulador%2Bvoltaje%2Blm2596&qid=1751603227&sprefix=regulador%2Bvoltaje%2Blm259%2Caps%2C154&sr=8-2-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1)
- `Interruptor Latching` [1] [Tact Switch](https://es.aliexpress.com/item/32946132279.html?gatewayAdapt=glo2esp)
  - [Buy Here](https://www.amazon.com/-/es/TWTADE-surtido-interruptores-moment%C3%A1neo-valores/dp/B0858XRGYW/ref=pd_sbs_d_sccl_2_7/135-1023576-2435918?pd_rd_w=RY99f&content-id=amzn1.sym.2cd14f8d-eb5c-4042-b934-4a05eafd2874&pf_rd_p=2cd14f8d-eb5c-4042-b934-4a05eafd2874&pf_rd_r=CHACEJYQ5WV2N7QQ47QW&pd_rd_wg=bvUnF&pd_rd_r=1626233c-a781-4024-a573-595263fdefa6&pd_rd_i=B0858XRGYW&psc=1)
- `Capacitors` [2] [capacitors](https://quartux.com/blog/que-es-un-capacitor-o-condensador-electrico/)
  - [Buy Here](https://www.amazon.com/ALLECIN-surtido-condensadores-electrol%C3%ADticos-aluminio/dp/B0C1VBXCQM/ref=sr_1_1_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2M89ISCK3S8W2&dib=eyJ2IjoiMSJ9.ekYH7jx2EeGYfnpDMkTUbDMnAuFO63KcVrPVunIy7CRHO8e5QJEy-3857CSe1eg4OUbfwtTK2SDShcMnKP9CzgwlqtEqTXzybOcSFf-Q-ZMVaZAX1EP6uQHHyUfA29jd0kJiGIxUUDAO7vEiDgOVMEPTwKY3SEv8VoGiPgnnsesGAeNdyQfOp9eCeZx8gZ_j5a4S3xo69azZRVqHiTiIDVoO64mOig6UO86S0UqMF70.K3GvFuksJkC_DUMJnOyC2CNeJZbEKwRDS0pUicT-GOs&dib_tag=se&keywords=capacitores&qid=1751604328&sprefix=capacitore%2Caps%2C159&sr=8-1-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1)
- `Male female conectors` [12] [XH-4Y](https://www.walmart.com/ip/2-54mm-Pitch-Connector-Kits-4-Pin-Male-Female-Header-Socket-4Pin-Housing-Cable-Adapter-and-Crimp-DIP-Kit-600pcs/1723812568?wmlspartner=wlpa&selectedSellerId=571)
  - [Buy Here](https://www.amazon.com/-/es/JST-conectores-terminales-compatible-XH2-2-126/dp/B0DN6LGG94/ref=sr_1_8?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2AE4HLUTRJ9SS&dib=eyJ2IjoiMSJ9.NnyMu7hO2SVrdyPBJN7NO77ZVZ2ugHXBkkkaCCiNyeKHiLziYyMs-lEZmIQ1-dJ9ktRSqjF-4_uKqNYhg9ZB0S15FbPAi4w9gAEO1Iy6-IStQl3-BHDoWcEjXh42PaKEA-vmcFIbb2rPfxs-YyFuOeNXvnW2jRvecGDMS9x-G7dHiQDt3lnSIeAqSfjPgzCZ3u1pP2eFhNjxl5quT46KEppnWiBBxohwEII_RnMwt5Jwfk61lMSda-SobBDmfmzkAWKf0p-P24b2oFwaQYOJjSf2qrj5nrXztkx6eq9FieI.VkQnl6Pdz1GoL5LwaXuy1JeLvEloFUYtk6e1wzgczs4&dib_tag=se&keywords=male+female+connectors+housing+socket&qid=1751604585&sprefix=male+female+connectors+housing+socke%2Caps%2C139&sr=8-8)
- `Gyroscope` [1] [MPU-6050 (IMU Sensor)](https://naylampmechatronics.com/blog/45_tutorial-mpu6050-acelerometro-y-giroscopio.html)
  - [Buy Here](https://www.amazon.com/-/es/unidades-GY-521-aceler%C3%B3metro-giroscopio-convertidor/dp/B07RXQGGJX/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2L4V0CV79NO2W&dib=eyJ2IjoiMSJ9.qpoHAAUW3irHLKsdM7PPM5NBf7SKxa6BD1TkwIyPqwmKly7Y9c5UWNMM9-7OsQYQMJZcNBAGf3ZmygeYgLWqZqvWgM5afEOJTB4fPG891dAheAphOjcGWpd4x34YMxmEdJ5ePKiu8K5F3ZjQmBXwlSMKObCRZ9tnQG6uFa_B9EaLYYN9G0nPoO0eG9fASoaJXfduvQBcQ3AReHsqEDc10Rva1rU76h0IeybHs1pnKM4.B5jvLrUBop85HLZ4cUAY0-1O0FLE4rE4qaIXJNFA9EE&dib_tag=se&keywords=mpu%2B6050&qid=1751604792&sprefix=mpu%2B6050%2Caps%2C200&sr=8-1&th=1)
- `Micro-controller` [1] [Arduino NANO ESP32](https://store.arduino.cc/products/nano-esp32?srsltid=AfmBOor1ZPTTOx_mqwjYCxh9cpnrrSOmZiry-TUbDsQwkmkYgxsAu0NA)
  - [Buy Here](https://www.amazon.com/-/es/Arduino-Nano-ESP32-encabezados-ABX00083/dp/B0C947BHK5/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=29Y3DLEPEP6M&dib=eyJ2IjoiMSJ9.GzP-GvhsR81ftjmV7C-hRYZKKdZl_4SwzDvNEsHgVcLgfBDXotzR_2B9qMdtU20mDrlDinwBUQ5g1iugiHRVYRTV5tvC7YdWlos16xz020EAoEohJyKgM87SBHIVleElW2Uhc1Osw9jGGB9UAaeGQ1-ViiG3sax4Y5GhKtxay_d4RzC_74baCcfdzeD8SuxL6HHxvyXsPTPJIQEZw7NaMZ3qbe5P2to2de54JyeOLbY.v7JddLOtqj4SwjgViGYaMYtKJvGingTbI1jpdj-jbCg&dib_tag=se&keywords=arduino+nano+esp32&qid=1751605117&sprefix=arduino+nano+esp3%2Caps%2C185&sr=8-1)
- `Terminal` [1] [PCB Terminal](https://www.ebay.com/itm/176852835599?itmmeta=01JZ9X3R3QBK5K1NX5JNW7MXZ6&hash=item292d401d0f:g:p5IAAeSwJsJnstho&itmprp=enc%3AAQAKAAAAwMHg7L1Zz0LA5DYYmRTS30kCfKFbi3yHGkq1MAigctijtUt88k8H0fTQlTVl15zQ2rAFxqJjvAGmHz3tLKUvaKPRSjRN%2B%2BJrLsqUnZafJAgAm3oRw4WmHg%2B2DOoLcsKFhm2lR3MkOOU9h2U5o4UVFBWpTzruXRgLNNrj2y%2FqHwPYrVTSOD0OVdF6qzSFwuMP4fI0ZqCfeSBqhpRA5e2FkJhfhBGYlbqVtqNu%2Bwu%2BSthBklZta99XLNW1qW1fRza9aA%3D%3D%7Ctkp%3ABk9SR4CCj736ZQ)
  - [Buy Here](https://www.amazon.com/Conector-terminales-proyectos-electr%C3%B3nica-dom%C3%A9stica/dp/B09ZXK9WHW/ref=sxin_17_pa_sp_search_thematic_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&content-id=amzn1.sym.2da95b6c-f59a-4699-bc43-d0ff036c6388%3Aamzn1.sym.2da95b6c-f59a-4699-bc43-d0ff036c6388&crid=1YVO1WLOHFR5&cv_ct_cx=terminal%2Bconnectors&keywords=conectores%2Bterminales&pd_rd_i=B09ZXK9WHW&pd_rd_r=7383269b-387d-43db-99ad-aa3535ebaf9d&pd_rd_w=wZUE0&pd_rd_wg=8AWvZ&pf_rd_p=2da95b6c-f59a-4699-bc43-d0ff036c6388&pf_rd_r=KG31P5Y328KMM66PDG4D&qid=1751605401&sbo=RZvfv%2F%2FHxDF%2BO5021pAnSA%3D%3D&sprefix=conectores%2Bterminale%2Caps%2C235&sr=1-1-6024b2a3-78e4-4fed-8fed-e1613be3bcce-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9zZWFyY2hfdGhlbWF0aWM&th=1)
- `Prototype wires` [32] [Prototype wires](https://shop.complubot.com/10-cables-prototipado-m--m-100-mm-p-1-50-142/)
  - [Buy Here](https://www.amazon.com/b%C3%B3vedas-0-079-4-921-Flexible-Breadboard-Connecting/dp/B08YRGVYPV/ref=sr_1_2_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2GXV9UTVOWUEX&dib=eyJ2IjoiMSJ9.qJE7UjNibAzbwpMmx2tJ0wsODsLFmAeWjM_Y5uH3tYc7WkhPXJHLmzQ4cWxb1kSgsK0xVEqc_JdBNHa8Xo9ScbKLFz3DlAZ__nCQ8aqNfPU6XT1yFdm4HjvD-pYpjNOepGBohRF5BsO1XTZz3EE73trxEnyharcEJ1j_YdNIGbhdOT4Y2JqKvzPldge-phJE3mUKcjYkrgz6wTsw6S1kAtzf_C6TrbusVlqbsMnm42Q.tyvH9VLgKBn5yBOxBo9bTOfyW5oWTQQ4KZh2599g0Dg&dib_tag=se&keywords=cables%2Bde%2Bprototipado&qid=1751605743&sprefix=cables%2Bde%2Bprototipado%2Caps%2C179&sr=8-2-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1)
- `Normal Wires` [11] [Normal Wires](https://electric-house.com/en/new-cables-wires-accessories/british-standard-wires-nya/normal-nya-wires.html?srsltid=AfmBOorK2BMxiZ4gTxS0S5ninaXnFpPJbrgoomhanURMuMzGaHGF6dQk)
  - [Buy Here](https://www.amazon.com/Aypzuke-compatible-proyectos-Arduino-Raspberry/dp/B0BTT31CBC/ref=sr_1_3_sspa?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=TFXF2UHV2NS4&dib=eyJ2IjoiMSJ9.VcNFeYpulSX_NTIy1KXkQggcp-48UG9UekumyelzK0CeBw6JChF6zsxr7757KUysu5xGHSpBuUdvKSJQ-LRQEaWMG-ycX9gnJE0XKopZErGxhFbhdB8wTdbEvlA5T52-WkqW3uqKD2qc4_CJMUu5W4qRyrZOMe8NqwT0CZY1XEKEUfBDfvH2mEJBSyhg8NjnHVV43enYU9U8p5E_DjfvWE-rXbrSCzbwORXEzr4T2NmQ_RM_M_RoKvaRAuKND60f3jDt_UsHVGakYrINHXe0ow3RKZlNeg-R-3hFoy0Q1Pc.XJojPOqW2Nc7Q19pEJ6ot4EO5Nwthnk7bUzR9zfOi-Y&dib_tag=se&keywords=wires&qid=1751606644&sprefix=wire%2Caps%2C178&sr=8-3-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&th=1)
- `Camera` [1] [Open MV H7 Plus](https://openmv.io/products/openmv-cam-h7-plus?gad_source=1&gad_campaignid=21060752326&gbraid=0AAAAADOSICr5HwPfLzCUJfli_Yz4UIKcv&gclid=Cj0KCQjw953DBhCyARIsANhIZoaLXqyA-gyrlXq3Lu6yv-o0bd69mEue9ASa_gCTEY3164RhAqh5ulIaAi49EALw_wcB)
  - [Buy Here](https://www.amazon.com/-/es/OpenMV-Cam-Plus-Procesamiento-Aprendizaje/dp/B09WYQMDX2/ref=sr_1_1?__mk_es_US=%C3%85M%C3%85%C5%BD%C3%95%C3%91&crid=2859PZDSPN330&dib=eyJ2IjoiMSJ9.Yc_Q0-hCd894n0G_bcZZcG5GLDu03BqtDn-EU583afbGjHj071QN20LucGBJIEps.kLnSV8GtWs0h_VCoLpXTCSdLSwLYKPy-hdndV3Q36dI&dib_tag=se&keywords=open+mv+h7+plus&qid=1751656221&sprefix=openmv+h7+plus%2Caps%2C225&sr=8-1)
- `Lipo Battery` [1] [Airsoft LIPPO Battery 11.1V](https://ampedairsoft.com/high-power-airsoft-hpa-lipo-battery-deans/?srsltid=AfmBOopO9qeoV56RR8JgdX3IUPpEP28VoUCsk4092drezXA60EzKM6kk)
  - [Buy Here](https://ampedairsoft.com/high-power-airsoft-hpa-lipo-battery-tamiya/)
- `Ceramic Capacitors` [2] [Ceramic Capacitors](https://ampedairsoft.com/high-power-airsoft-hpa-lipo-battery-deans/?srsltid=AfmBOopO9qeoV56RR8JgdX3IUPpEP28VoUCsk4092drezXA60EzKM6kk)
  - [Buy Here](https://ampedairsoft.com/high-power-airsoft-hpa-lipo-battery-tamiya/)

### Components explication

#### HC-SR04 (Ultrasonic Sensor):
The HC-SR04 ultrasonic sensor is a popular device used to measure distances using sound waves. It emits an ultrasonic pulse and calculates the time it takes for the echo to return, allowing precise distance measurements. Commonly used in robotics, obstacle detection, and automation, it provides non-contact sensing capabilities. One major advantage is its low cost and easy interfacing with microcontrollers like Arduino. It offers good accuracy within a range of 2 cm to 400 cm. Its response time is fast and reliable for real-time applications. The sensor is lightweight and energy-efficient. It's ideal for indoor environments with stable conditions. Despite being sensitive to soft or angled surfaces, its reliability makes it widely adopted in DIY and educational projects.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/a011a77e-5fea-444b-a466-2da2d17ba0d5" alt="ARTURO" />|
| :------------: |
|[ HC-SR04 ](https://docs.arduino.cc/libraries/hc-sr04/)|

HC-SR04 Conections:

- VCC ‚Üí 5V on Arduino Nano

- GND ‚Üí GND on Arduino Nano

- Trig ‚Üí Any digital pin (e.g., D2)

- Echo ‚Üí Any digital pin with interrupt support (e.g., D3)

You need to set the Trig pin HIGH for 10 microseconds to send a pulse, and then measure the time it takes for the Echo pin to go HIGH and back LOW. This time is used to calculate distance based on the speed of sound.

Mounting the two ultrasonic sensors vertically on the sides of your robot car is better because it reduces interference from the ground and improves side object detection. Vertical orientation gives a clearer field of view along the sides of the car, helping to detect walls, obstacles, or path boundaries more accurately. It also minimizes noise from reflections that occur when the sensor faces downward or too close to the floor, improving reliability in navigation.

<p align="center">
<img src="https://github.com/user-attachments/assets/da479d5d-0a66-4abc-842d-d36a51ef9c10" alt="Imagen 1" width="500">
</p> 

> [!CAUTION]
> Due to GitHub problems some charts and GIFs can load a little bit slow, so we beg you to be patient while reading to not miss anything, THANKS!

> [!IMPORTANT]
> In addition to this we also added ceramic capacitors to filter the ultrasonic signals.
> <p align="center">
<img src="https://github.com/user-attachments/assets/8fdb1489-e1a1-4a7d-9b42-81574471fbcf" alt="Imagen 1" width="250">
</p> 

#### TB6612FNG 1.2A (Motor driver)

The TB6612FNG is a dual H-bridge motor driver designed to control two DC motors independently. It allows precise control of motor direction and speed using digital signals and PWM (Pulse Width Modulation). With a continuous current output of 1.2A per channel and a peak of 3.2A, it is suitable for small to medium-sized motors. The driver operates efficiently at voltages between 2.5V and 13.5V. It includes built-in protection features such as thermal shutdown and under-voltage lockout, enhancing safety and durability. Its compact design makes it ideal for space-constrained applications. The TB6612FNG offers better performance and energy efficiency compared to older drivers like the L298N. It generates less heat, provides faster switching, and ensures smoother motor control. This makes it a reliable choice in modern electronics and robotic systems.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/4253789d-ae91-40bc-8daa-639aab41e6c6" alt="ARTURO" />|
| :------------: |
|[ Motor Driver TB6612FNG 1.2A ](https://github.com/user-attachments/assets/4253789d-ae91-40bc-8daa-639aab41e6c6)|




üü¶ Power and Ground
VCC ‚Üí 5V on Arduino Nano (logic power)

VM ‚Üí External motor power (e.g., 6V‚Äì12V battery, depending on your motors)

GND ‚Üí Common ground (connect to both Arduino GND and battery GND)

üü¶ Motor Outputs
A01 / A02 ‚Üí Connect to Motor A terminals

B01 / B02 ‚Üí Connect to Motor B terminals

üü¶ Control Pins
PWMA ‚Üí PWM pin on Arduino (e.g., D3) to control speed of Motor A

AIN1 ‚Üí Digital pin (e.g., D4) to control direction

AIN2 ‚Üí Digital pin (e.g., D5) to control direction

PWMB ‚Üí PWM pin (e.g., D6) for Motor B speed

BIN1 ‚Üí Digital pin (e.g., D7) for direction

BIN2 ‚Üí Digital pin (e.g., D8) for direction

üü¶ Standby
STBY ‚Üí Connect to 5V (or control with a digital pin like D9 to enable/disable motors)

> [!IMPORTANT]
> Remember: All grounds (Arduino, battery, and driver) must be connected together for proper operation.
> üí° Use PWM capable pins for PWMA and PWMB to control speed with analogWrite().

#### Injora 7kg (Servo motor):

The Injora 7kg servo motor is a high-torque actuator commonly used in RC cars, robotics, and small mechanical systems. It provides up to 7 kilograms of torque, making it strong enough for steering systems and joint movement. This servo operates with precise angular control, usually within 0‚Äì180 degrees. It responds quickly and accurately to input signals, offering reliable performance in dynamic applications. Its compact size allows easy integration into small projects. The metal gear design improves durability and reduces wear over time. It runs efficiently on 4.8V‚Äì6.8V, compatible with most microcontrollers. Its strength-to-size ratio is excellent, ideal for lightweight robotic platforms. It also maintains position under load, which is key for stability. Overall, it‚Äôs a solid, affordable servo with great balance between power and precision.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/5c9d41b6-dd40-4e29-adb3-072a0e2445a5" alt="ARTURO" />|
| :------------: |
|[  Injora 7kg (Servo motor)](https://www.injora.com/products/injora-injs2065-7kg-2065-digital-servo-waterproof-high-voltage-micro-shift-servo-for-1-10-rc-crawler?srsltid=AfmBOopArNEO7rg4eZ9WLL65JtUtRvO7n1g2VnhehGOKWB0gmUJ6pld6)|

Servo Cable Connections (usually with 3 wires):
Brown or Black (GND) ‚Üí GND on Arduino Nano ESP32

- Red (VCC/Power) ‚Üí External 5V‚Äì6V power supply (not from the Arduino 3.3V or 5V pin)

- Orange or Yellow (Signal/PWM) ‚Üí PWM-capable digital pin on Arduino Nano ESP32 (e.g., D4 or D13)

> [!IMPORTANT]
> ‚ö†Ô∏è Important Power Note:
> üí°The Injora 7kg servo needs more current than the Arduino Nano ESP32 can safely provide. Use an external
> power source (like a 5V BEC or battery pack) to power the servo‚Äôs VCC. Connect all GNDs together (ESP32 GND, power supply GND, and servo GND).

üü©  Wiring Summary:
- Servo Wire	Connects To
GND	ESP32 GND
- (optionak) VCC	External 5V‚Äì6V Power
Signal	D4 (or any PWM pin)

> [!TIP]
> Use a capacitor (e.g., 470¬µF‚Äì1000¬µF) between VCC and GND of the servo supply to avoid voltage dips.
> In code, use ledcWrite() or servo libraries compatible with the ESP32‚Äôs PWM channels.

####  Metal Gearmotor 25Dx65L mm HP 12V with 48 CPR Encoder (Motor):

The Pololu 20.4:1 Metal Gearmotor 25D√ó65L HP 12V with encoder is a compact, high-power DC motor ideal for robotics and automation. It delivers around 500‚ÄØRPM and up to 7.4‚ÄØkg¬∑cm of stall torque, with a strong metal gearbox for durability. Its built-in 48 CPR encoder provides nearly 980 counts per gearbox revolution, allowing precise speed and position control. Operating efficiently at 12V, it supports closed-loop systems and handles moderate loads reliably. 

| <img align="center" width="250" src="https://github.com/user-attachments/assets/8279be5e-fd28-4307-bb52-7f43f2dacefb" alt="ARTURO" />|
| :------------: |
|[ Gearmotor 25Dx65L mm HP 12V with 48 CPR ](https://www.pololu.com/product/4843)|

The Pololu 20.4:1 gearmotor cannot be connected directly to the Arduino Nano because it requires more current than the board can supply. Instead, connect it to a motor driver (TB6612FNG):

- Motor terminals (M1 and M2) ‚Üí connect to the output pins of the driver (e.g., A01 and A02)

- The driver control pins (IN1, IN2, PWM) ‚Üí connect to Arduino Nano digital and PWM pins to control direction and speed

- VM on the driver ‚Üí connect to an external power source (6V‚Äì12V, depending on your motor voltage)

- GND (driver) ‚Üí connect to Arduino GND and battery GND (shared ground is essential).

#### LM2596 (Voltage Regulator):

The LM2596 is a step-down (buck) voltage regulator that efficiently converts higher voltages (up to 40V) down to a stable, lower voltage like 5V or 3.3V. It works using high-frequency switching and a feedback loop to maintain output voltage. Unlike linear regulators, it minimizes heat loss and energy waste. It can handle up to 2A of continuous current, making it suitable for powering microcontrollers and motors.


| <img align="center" width="250" src="https://github.com/user-attachments/assets/da07998f-7561-46c4-945e-71f64048f2f5" alt="ARTURO" />|
| :------------: |
|[ LM2596 ](https://naylampmechatronics.com/conversores-dc-dc/196-convertidor-voltaje-dc-dc-step-down-3a-lm2596.html)|

LM2596 Pin/Label
- IN+ : 	Positive input voltage (e.g., 7V‚Äì36V from battery or adapter)
- IN‚Äì :	GND of input power source
- OUT+ :	5V input pin on Arduino Nano (Vin or 5V, depending on output)
- OUT‚Äì	GND pin on Arduino Nano

#### MPU-6050 (IMU Sensor):

The MPU-6050 is a 6-axis motion tracking sensor that combines a 3-axis accelerometer and a 3-axis gyroscope in a single compact chip. It measures both linear acceleration and rotational velocity, allowing it to detect orientation, movement, and tilt. The sensor communicates via I2C, making it easy to connect to microcontrollers like the Arduino. It features built-in digital motion processing (DMP) that helps offload complex calculations from the main processor. With high sensitivity and low noise, it provides accurate and stable readings.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/a8b6f8d1-0018-4b0c-bce0-209467030410" alt="ARTURO" />|
| :------------: |
|[ MPU-6050 (Gyroscope) ](https://www.mathworks.com/help/matlab/supportpkg/arduinoio.mpu6050-system-object.html)|

- MPU-6050 Pin	Arduino Nano Pin
- VCC:	5V
- GND:	GND
- SCL:	A5
- SDA:	A4
- INT:	(Optional) D2 or any digital pin (for interrupts)

> [!IMPORTANT]
> ‚ö†Ô∏è Important Power Note:
> üí°The MPU-6050 works with both 3.3V and 5V, but always check your module version. Most breakout boards 
> Include a voltage regulator, so connecting VCC to 5V is safe.
> SCL (Serial Clock Line) and SDA (Serial Data Line) are for I2C communication.
> You can optionally connect INT to a digital pin (e.g., D2) to use interrupt features like motion detection.

#### Arduino NANO ESP32: 
The Arduino Nano ESP32 is a small and modern microcontroller that makes it easy to create smart and connected projects. It has built-in Wi-Fi and Bluetooth, so it can communicate wirelessly with other devices. Its compact size makes it perfect for small spaces and portable gadgets. You can program it using the Arduino platform, which is simple and beginner-friendly.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/0ca32f84-0386-4c56-aaf8-75247bf70d6c" alt="ARTURO" />|
| :------------: |
|[ Arduino NANO ESP32 ](https://docs.arduino.cc/hardware/nano-esp32/)|

The Arduino Nano ESP32 features the Espressif ESP32-S3 microcontroller with a dual-core Xtensa LX7 processor running at 240‚ÄØMHz. It includes 512‚ÄØKB SRAM, 384‚ÄØKB ROM, and 8‚ÄØMB external flash. The board supports 2.4‚ÄØGHz Wi-Fi (IEEE 802.11 b/g/n) and Bluetooth 5 (LE) connectivity. It operates at 3.3‚ÄØV logic level and includes 14 digital I/O pins, 8 analog inputs, and multiple PWM channels. Communication interfaces include I2C, SPI, UART, USB 2.0 (via USB-C), and JTAG. The onboard voltage regulator supports input voltages from 5‚ÄØV to 21‚ÄØV via VIN. It is programmable via the Arduino IDE or MicroPython and supports native USB functionality.

#### Open MV H7 Plus (CAMERA): 

The OpenMV H7 is a powerful embedded vision camera designed for real-time image processing and machine vision tasks. It works by capturing video and analyzing it directly on-board using a high-speed microcontroller, so there's no need for a separate computer. It can recognize objects, track faces, detect colors, read QR codes, and even run machine learning models like neural networks. The camera is programmable in Python, making it easy and accessible for developers and students. Its compact size and built-in lens make it ideal for robotics, automation, and AI applications. What makes it especially good is its ability to process images in real time with low power consumption. It bridges the gap between camera modules and full computer vision systems, offering a smart, efficient, and versatile solution for embedded vision.

| <img align="center" width="250" src="https://github.com/user-attachments/assets/b7221357-e290-438e-a5c9-379ba7901cd9" alt="ARTURO" />|
| :------------: |
|[ Open MV H7 Plus ](https://openmv.io/products/openmv-cam-h7-plus?gad_source=1&gad_campaignid=21060752326&gbraid=0AAAAADOSICr5HwPfLzCUJfli_Yz4UIKcv&gclid=Cj0KCQjw953DBhCyARIsANhIZoaLXqyA-gyrlXq3Lu6yv-o0bd69mEue9ASa_gCTEY3164RhAqh5ulIaAi49EALw_wcB)|

The OpenMV H7 is powered by an STM32H7 Cortex-M7 processor running at 480‚ÄØMHz, with a double-precision FPU and DSP instructions for high-performance image processing. It includes 1‚ÄØMB of SRAM and 2‚ÄØMB of internal flash memory, with support for external microSD cards. The board features multiple 5V-tolerant I/O pins capable of UART, SPI, I¬≤C, PWM, ADC, DAC, and CAN functions. It typically uses an OV7725 (640√ó480) or OV5640 (5MP) camera sensor, supporting up to 150 FPS at low resolutions. Image processing tasks like face tracking, QR code reading, and neural network inference run directly on board using MicroPython. It includes USB-C for programming and communication, servo headers, RGB/IR LED support, and LiPo battery input. Power consumption ranges between 110‚Äì170 mA at 3.3‚ÄØV, with onboard voltage regulation. Its compact form factor (around 45√ó36√ó30 mm) makes it suitable for embedded vision systems. 


#### LIPPO Battery (CAMERA): 

LiPo 11.1V batteries (Lithium Polymer) are rechargeable batteries made up of three cells in series, each providing 3.7V nominal voltage (3.7‚ÄØV √ó 3 = 11.1‚ÄØV). They work by moving lithium ions between positive and negative electrodes during charging and discharging. When discharging, lithium ions move from the anode to the cathode, creating an electric current that powers devices. When charging, the process is reversed. LiPo batteries are lightweight and deliver high current output, making them ideal for drones, RC vehicles, and robotics.


| <img align="center" width="250" src="https://github.com/user-attachments/assets/94190821-27a9-408e-8576-bd84be9f907c" alt="ARTURO" />|
| :------------: |
|[ Battery LIPPO ](https://ampedairsoft.com/high-power-airsoft-hpa-lipo-battery-tamiya/)|


## Part 4 /  Power - Mobility management
On the power side of the cart this can be seen graphically in the diagram.

The battery feeds the whole circuit with 12.1 V but clearly this would burn all our robot xd, so for that we have the LM2596 voltage regulator, in which 5V come out of this for the arduino and all the sensors, but a part of the robot voltage takes 12V to feed the motor, through a driver, so 12V of all the power supply of the robot goes to the driver.

| <img align="center" width="500" src="https://github.com/user-attachments/assets/0dbae9ce-3a3a-4c90-8460-0234d58fc949" alt="ARTURO" />|
| :------------: |
| LIPPO |
|[ Diagram ](https://github.com/seteki/III-Wind/tree/main/electrical-schemes )|

| <img align="center" width="500" src="https://github.com/user-attachments/assets/ee1b6206-0c1d-4f27-a474-183a30534d35" alt="ARTURO" />|
| :------------: |
| Connection |
|[ Diagram ](https://github.com/seteki/III-Wind/tree/main/electrical-schemes )|

## Part 5 / Robot Assembly
Here will be all the robot photos same as the carpet.

### Every robot photo

| Front           | Right       | Back      |
|:---------------:|:-----------:|:---------:|
| <img width="270" alt="front" src="https://github.com/user-attachments/assets/8cb9b86e-cfd7-4ee3-aa7a-40bfcc07ceb1"> |<img width="270" alt="front" src="https://github.com/user-attachments/assets/4a0b77f5-ad6b-40d3-b287-f9261bf1ff87"> |  <img width="270" alt="front" src="https://github.com/user-attachments/assets/1de907eb-9462-4ffe-99e3-555f205acac5"> |
| Left          | Top       | Bottom     |
|<img width="270" alt="front" src="https://github.com/user-attachments/assets/7355cd65-d2fe-42bc-a68a-9b9ebddd2358">| <img width="270" alt="front" src="https://github.com/user-attachments/assets/cdb0b78a-244c-4dfb-aa90-481ad37e838c"> | <img width="270" alt="front" src="https://github.com/user-attachments/assets/c92569a3-aabd-4d62-a89a-00c9011b3253">|







## Part 6 / Code

![seteki (8)](https://github.com/user-attachments/assets/ed3c5c9a-457e-4064-a46b-1fcb50d9a665)




Here will be all the codes of the robot and the platforms we use for each round.

### Platforms

| <img align="center" width="250" src="https://github.com/user-attachments/assets/94eb41c0-4a46-478e-9f71-b7e7ece20c77" alt="ARTURO" />| <img align="center" width="250" src="https://github.com/user-attachments/assets/5fd67680-6baa-447d-8b1e-b040550168ec" alt="ARTURO" /> |
| :------------: |:-------------:| 
|[ ARDUINO IDE ](https://www.arduino.cc/en/donate/newsletter)|[ VISUAL STUDIO CODE ]( https://code.visualstudio.com/ )

| <img align="center" width="250" src="https://github.com/user-attachments/assets/5dc744cf-f089-43c5-9c2e-8776e3cdef6d" alt="ARTURO" />|
| :------------: |
|[ OPEN MV ](https://openmv.io/pages/download?gad_source=1&gad_campaignid=21060752326&gbraid=0AAAAADOSICpQbHRKScmxK9EOYX81r70EI&gclid=Cj0KCQjwvajDBhCNARIsAEE29WrZmZQzRiE8AmbvEKIrftLjanVpRKUjxQWHvWCt-_dDBh7rEdffFfMaAk01EALw_wcB)|


### Motor Code / Driver:

#### Outputs

```cpp

const int pwma = 9;  // PWM pin for speed control
const int ain2 = 10; // Motor direction pin AIN2
const int ain1 = 11; // Motor direction pin AIN1
const int stby = 12; // Standby pin (if applicable)
```

These pins interface with an H-bridge motor driver, we do it with the `TB6612FNG`:

- pwma controls motor speed via PWM (Pulse Width Modulation).

- ain1 and ain2 determine the rotation direction:

- AIN1 = HIGH and AIN2 = LOW ‚Üí Forward

- AIN1 = LOW and AIN2 = HIGH ‚Üí Reverse

- Both LOW ‚Üí Stop

#### Forward Movement:


```cpp
void moverAdelante(int velocidad) {
    digitalWrite(ain2, LOW);
    digitalWrite(ain1, HIGH);
    analogWrite(pwma, constrain(velocidad, 0, 255));
}

```
- Sets direction pins for forward movement.

- analogWrite(pwma, velocidad) modulates motor power.

- constrain() ensures the speed remains within [0, 255].

#### Reverse Movement:

```cpp
void moverAtras(int velocidad) {
    digitalWrite(ain1, LOW);
    digitalWrite(ain2, HIGH);
    analogWrite(pwma, constrain(velocidad, 0, 255));
}
```
     Inverts the direction pins to drive the motor backwards.

#### Motor stop:


```cpp
void detenerMotor() {
    digitalWrite(ain1, LOW);
    digitalWrite(ain2, LOW);
    analogWrite(pwma, 0);
}

```
- Both control pins set to LOW to disable the H-bridge path.

- PWM set to zero ensures no motion.

#### Speed Profiles and Motion States:

```cpp
const int velocidadNormal = 255;
const int velocidadGiro = 255;
const int velocidadEstabilizacion = 200;
const int velocidadCorreccionMin = 225;
const int velocidadCorreccionMax = 255;

```

These values determine PWM duty cycles in various robot states:

     - velocidadNormal: cruising speed in NORMAL state.

     - velocidadGiro: used during turning (EN_MANIOBRA).

     - velocidadEstabilizacion: reduced speed post-turn.

     - velocidadCorreccionMin/Max: used during CORRIGIENDO for ramping velocity.

### Servo Code
#### Configuration:

```cpp
const int servoPin = 8;
Servo steeringServo;
```
- The servo motor is connected to digital pin 8 on the microcontroller.

- Servo is an instance of the ESP32Servo library (compatible with ESP32 architecture).

- It allows PWM signal generation to control angle-based rotation (typically 0¬∞ to 180¬∞) via hardware timer abstraction.

#### Servo Angle Constraints and Calibration:

```cpp
const int servoNeutral = 90;      // Angle to go straight
const int servoMinAngle = 60;     // Minimum limit to avoid damage
const int servoMaxAngle = 180;    // Maximum limit to avoid damage
```
- `servoNeutral `defines the center (straight) orientation of the steering ‚Äî critical for path alignment.

- `servoMinAngle` and servoMaxAngle serve as safety constraints to prevent mechanical overtravel or hardware strain.

- These bounds are enforced when sending `servo angles` in PID control logic

#### PID-Based Servo Control:

```cpp
float setpoint = 0.0;          // Desired heading
float error = 0.0, prevError = 0.0;
float pidOutput = 0.0;         // Will be mapped to steering angle
```
- The error between current yaw and desired heading is calculated.

- A PID controller generates an output (`pidOutput`) proportional to that error.

- This output is mapped to a servo angle, like:

```cpp
int servoAngle = constrain(servoNeutral + pidOutput, servoMinAngle, servoMaxAngle);
steeringServo.write(servoAngle);
```
- This allows real-time adjustments to robot steering using closed-loop feedback from IMU yaw data.

### Ultrasonics Code
#### Confguration:

```cpp
#define TRIG_IZQUIERDO 3
#define ECHO_IZQUIERDO 2
#define TRIG_CENTRO 5
#define ECHO_CENTRO 4
#define TRIG_DERECHA 6
#define ECHO_DERECHA 7
```
Each ultrasonic sensor uses two pins: one for triggering a sound pulse (TRIG) and one for receiving the echo (ECHO).

The robot has three sensors:

- Left (IZQUIERDO)

- Center (CENTRO)

- Right (DERECHA)

These are used to sense obstacles, corridor walls, or available openings on each side.

#### Reading Function:

```cpp
float medirDistancia(int trigPin, int echoPin) {
    digitalWrite(trigPin, LOW); delayMicroseconds(2);
    digitalWrite(trigPin, HIGH); delayMicroseconds(10);
    digitalWrite(trigPin, LOW);
    long duration = pulseIn(echoPin, HIGH, TIMEOUT_ULTRASONICO);
    if (duration == 0) return 999.9;
    float dist = (duration * 0.0343) / 2.0;
    if (dist < DISTANCIA_MIN_VALIDA || dist > DISTANCIA_MAX_VALIDA) return 999.9;
    return dist;
}
```
#### Filtering: Median Filter (Noise Reduction):

```cpp
#define FILTER_SIZE 3
float lecturasIzquierdo[FILTER_SIZE];
float lecturasCentro[FILTER_SIZE];
float lecturasDerecho[FILTER_SIZE];
```
Each sensor uses a sliding window filter of size 3.

The filtering process involves:

- Storing new readings in an array.

- Using qsort() to sort the window.

- Rejecting invalid values (999.9).

- Returning the median valid value.

```cpp
float calcularMediana(float arr[], int n);
```

- This eliminates transient spikes and false echoes.

_______________________________________________________________

### First Challenge:
### Explanation

#### IMU Sensor, configuration:


```cpp
#include <Adafruit_MPU6050.h>
#include <Adafruit_Sensor.h>
```

- The `MPU6050` is interfaced using the Adafruit unified sensor driver, abstracting raw register-level communication.

- The mpu object is an instance of `Adafruit_MPU6050`, which allows access to accelerometer and gyroscope data.


> [!CAUTION]
> Due to GitHub problems some charts and GIFs can load a little bit slow, so we beg you to be patient while reading to not miss anything, THANKS!'

#### Gyroscope Offset Calibration:

```cpp
void calibrarGiroscopio() {
    float sum = 0.0;
    Serial.println("Calibrando giroscopio...");
    delay(1500);
    for (int i = 0; i < numCalibSamples; i++) {
        sensors_event_t a, g, temp;
        mpu.getEvent(&a, &g, &temp);
        sum += g.gyro.z;
        delay(5);
    }
    gyroOffset = sum / numCalibSamples;
    Serial.print("Offset Giroscopio (Z rad/s): ");
    Serial.println(gyroOffset, 6);
}
```

- Purpose: Calculates a bias term for the Z-axis gyroscope by averaging static readings.

- `gyroOffset` represents the baseline drift due to sensor noise, temperature, or manufacturing variance.

- Result is stored in radians per second (rad/s).

- Critical to ensure accurate yaw integration in motion states.


#### Gyroscope Readings:

```cpp
sensors_event_t a, g, temp;
mpu.getEvent(&a, &g, &temp);
```

This provides:

- `g.gyro.z` ‚Üí Angular velocity about Z-axis (yaw rate)

- Output is in rad/s, which is converted to deg/s for most internal calculations.

#### Yaw Angle Estimation via Gyroscope Filter:

```cpp

void calcularKalmanYaw(float gyroZ_rad, float dt) {
    float gyroRateCorrected_rad = gyroZ_rad - gyroOffset;
    float rate_deg = gyroRateCorrected_rad * 180.0f / PI - kalmanBias;
    kalmanYaw += rate_deg * dt;
    // ... Filter update math omitted ...
}
```


### Logic / Explanation

The robot logic for the WRO Future Engineers first round is structured as a robust `finite state machine` (FSM) governing all motion and behavior through distinct states: `NORMAL`, `EN_MANIOBRA`,` ESTABILIZANDO`, `CORRIGIENDO`, `PARKING`, `ESQUIVAR_BLOQUES`, and DETENIDO. The system begins in the NORMAL state, driving forward using PWM signals `(analogWrite(pwma, velocidadNormal))` while continuously monitoring three ultrasonic sensors on the left, center, and right. These sensors provide noisy distance data, which is filtered using a median filter (e.g., `calcularMediana(`lecturasCentro, 3)) to improve measurement reliability. The robot uses these filtered distances to detect obstacles or openings; for instance, if the left distance suddenly increases compared to distanciaIzquierdoInicial multiplied by umbralRatioLateral, the robot interprets it as an available turn and enters the EN_MANIOBRA state.

In EN_MANIOBRA, the robot rotates while tracking its angular orientation using yaw estimation derived from gyroscope integration, with bias correction from a calibration phase (calibrarGiroscopio() computes gyroOffset). This angle is used to reach a precise turning goal, like +90¬∞ or -90¬∞ relative to a setpoint. Steering is executed via a servo motor on pin 8, controlled with steeringServo.write(), where PID logic maps angular error to a steering angle, ensuring controlled curvature. After completing a turn (checked via error threshold like TURN_ANGLE_TOLERANCE), the system transitions into `ESTABILIZANDO`, pausing or reducing speed (velocidadEstabilizacion = 200) to allow mechanical settling. Then it moves to CORRIGIENDO, where heading errors are corrected using a second PID controller. If the wall is too close laterally (e.g., less than 7.0 cm), a PD controller triggers lateral corrections toward a DISTANCIA_LATERAL_OBJETIVO_PD of 10.0 cm.

Once a fixed number of turns is executed (`NUM_CURVAS_ANTES_DE_PARAR` = 4), the system switches to PARKING. This complex state begins with lateral alignment, using a dedicated PD loop (Kp_parking_lateral, Kd_parking_lateral) to match the robot's side distance to the target tolerance. Once aligned, it transitions to frontal alignment based on the center ultrasonic sensor, advancing or reversing with full PWM (`VELOCIDAD_PARKING_AVANCE` = 255). Transitions between sub-states are managed by timeouts like `TIMEOUT_PARKING_SUBFASE` = 7000 and alternating between lateral and yaw correction when alignment fails. The system‚Äôs heading tracking relies entirely on filtered gyroscope output derived from integrating the Z-axis angular velocity, corrected with `gyroOffset` to prevent drift. This heading is essential for PID-based navigation and precise maneuvering.

### Second Challenge:

> [!IMPORTANT]
> Though named "Gyroscope Filter", this structure essentially implements a gyroscope-based yaw integrator with bias correction. :)

### IMU Sensor calibration:



```cpp
void calibrarGiroscopio() {
    float sum = 0.0;
    for (int i = 0; i < 2000; i++) {
        sensors_event_t a, g, temp;
        mpu.getEvent(&a, &g, &temp);
        sum += g.gyro.z;
        delay(5);
    }
    gyroOffset = sum / 2000.0;
}
```

#### PID Heading control:

```cpp
float errorYaw = targetYaw - yaw;
float output = Kp * errorYaw + Kd * (errorYaw - lastError) / dt;
steeringServo.write(constrain(90 + output, servoMin, servoMax));
```
- The estimated yaw is compared to a `targetYaw` to compute angular error.

- This error feeds a PD controller (only proportional and derivative terms used).

- The controller output determines the new servo position, adjusting the robot's steering to reduce heading error.

- Example: If the robot must turn 90¬∞ right, `targetYaw` is updated to yaw + 90, and the PID loop continuously adjusts the servo until that angle is reached.


### Camera Code
     Open mv h7 plus with open mv software
#### Configuration

```python
sensor.reset()
sensor.set_pixformat(sensor.RGB565)
sensor.set_framesize(sensor.QVGA)
sensor.set_auto_gain(False)
sensor.set_auto_whitebal(False)
```
- The camera sensor is initialized with RGB565 pixel format and QVGA resolution (320x240).

- Auto-gain and auto-whitebalance are disabled to ensure stable and consistent color tracking, as these automatic adjustments can interfere with blob detection in color space.


#### LAB Color Thresholds:

```python
threshold_color_1 = [0, 100, 4, 16, 6, 17]
threshold_color_2 = [0, 100, -38, -31, 31, 40]
```
- These arrays define manual LAB color thresholds for each target color ( red and green in this case).

- The script supports multi-color tracking by iterating over a list of thresholds.

- LAB space is used instead of RGB because it provides better separation between brightness and chromaticity, making color segmentation more robust.

#### Image Grid Section Mapping:

```python
def get_section_from_coords(cx, cy):
    ...
```
The 320x240 image is divided into 6 logical sections (2 rows √ó 3 columns).  Each detected blob‚Äôs center coordinates (cx, cy) are mapped to one of these numbered sections (1 through 6 on the top color, 7 through 12 on the second color). This simplifies positional awareness and allows decision-making (like evasive maneuvers) in the ESP32 based on blob location.

#### Distance Estimation via Pixel Position:
- The vertical position (y) of the bottom of the blob is used to estimate distance to the object using a second-degree polynomial model.

- This model is generated from empirical calibration using a separate script (ajuste.py), mapping pixel positions to real-world distances.

     Only the Y-axis position of the blob is required‚Äîno stereo vision or depth camera is used.

```python

#### Serial Communication Over UART:
uart = pyb.UART(3, 115200, timeout_char=1000)
...
mensaje = f"{distancia_estimada:.2f},{final_section_id},{centro_x}\r\n"
uart.write(mensaje)

```

Communication to an external controller (e.g., ESP32) is handled via UART3 at 115200 baud using pyb.UART.

Each frame, the script sends:

- distance_estimated (in cm),

- section ID (adjusted by color),

- center X coordinate of the blob.

Format: "{distance},{section},{centerX}\r\n" ‚Äî matching the expected input format of the ESP32.

If no blobs are detected in a frame, the script sends "0,0,0\r\n" to indicate absence of valid targets.

### Explanation / Logic

The second-round code implements an advanced autonomous navigation strategy using a finite state machine (FSM) with the robot reacting dynamically to its environment through IMU orientation, ultrasonic sensors, and camera input from OpenMV.

The robot begins in the NORMAL state, driving forward with PID-based yaw correction using gyroscopic feedback from the MPU6050 (float error = setpoint - kalmanYaw;). The robot constantly monitors ultrasonic sensors to detect wall proximity and uses median filtering (calcularMediana()) to stabilize readings. These filtered distances inform whether the robot should trigger turns or corrections.

Upon detecting a narrowing corridor (distanciaCentroFiltrada < umbralRatioCentral * distanciaCentralInicial), the robot transitions to the EN_MANIOBRA state. It executes a turn using gyroscope-driven angular tracking until reaching a predefined yaw change (fabs(errorAngular) < TURN_ANGLE_TOLERANCE).

After the turn, it enters ESTABILIZANDO, where it pauses or moves slowly (moverAdelante(velocidadEstabilizacion)) to allow mechanical oscillations to settle. Then, it transitions into CORRIGIENDO, where it performs lateral or angular adjustments using PD or PID based on detected wall distances (DISTANCIA_LATERAL_MIN_ACTIVACION_PD triggers this).

When block detection is necessary (via OpenMV), the robot enters ESQUIVAR_BLOQUES. It uses PD control to align the X-coordinate of the detected blob (errorX_esquivar = SETPOINT - centerX) and make decisions such as backing up or sidestepping based on the section ID sent over UART (if(final_section_id == 5)).

If the robot identifies a designated end-of-course configuration, it switches to the PARKING state. There, it executes a two-stage alignment: first laterally aligning to a wall using PD (errorParkLat = distanciaIzquierdo - objetivo), then advancing or reversing until the central ultrasonic sensor confirms proper frontal alignment. Sub-states (SUB_PARKING_*) track progress, and timeouts (TIMEOUT_PARKING_SUBFASE) prevent deadlock.

Throughout, the robot counts maneuvers (contadorCurvas) and halts in DETENIDO after completing all required actions (NUM_CURVAS_ANTES_DE_PARAR).

State transitions depend heavily on time, distance thresholds, and angular deviation, ensuring robust performance in complex maze-like or obstacle-filled environments.



## Video

![Add a subheading (16 x 5 cm) (7)](https://github.com/user-attachments/assets/8ebb6f35-f9bb-4303-92db-6aef14f6bcec)

> [!IMPORTANT]
> here you will find the video of the robot doing the challenges ([HERE](https://www.youtube.com/watch?v=5jkXfLJ73qs)). :)


## Every platform we use

| <img align="center" width="250" src="https://github.com/user-attachments/assets/94eb41c0-4a46-478e-9f71-b7e7ece20c77" alt="ARTURO" />| <img align="center" width="250" src="https://github.com/user-attachments/assets/5fd67680-6baa-447d-8b1e-b040550168ec" alt="ARTURO" /> |
| :------------: |:-------------:| 
|[ ARDUINO IDE ](https://www.arduino.cc/en/donate/newsletter)|[ VISUAL STUDIO CODE ]( https://code.visualstudio.com/ )

| <img align="center" width="250" src="https://github.com/user-attachments/assets/5dc744cf-f089-43c5-9c2e-8776e3cdef6d" alt="ARTURO" />|
| :------------: |
|[ OPEN MV ](https://openmv.io/pages/download?gad_source=1&gad_campaignid=21060752326&gbraid=0AAAAADOSICpQbHRKScmxK9EOYX81r70EI&gclid=Cj0KCQjwvajDBhCNARIsAEE29WrZmZQzRiE8AmbvEKIrftLjanVpRKUjxQWHvWCt-_dDBh7rEdffFfMaAk01EALw_wcB)|

| <img align="center" width="250" src="https://github.com/user-attachments/assets/261e3e3d-fa99-410f-860d-8a0ae286ae63" alt="ARTURO" />|
| :------------: |
|[ Fritzing ](https://fritzing.org/)|
|[ Download ](https://fritzing.org/download/ )|

## References
https://fritzing.org/download/
https://openmv.io/pages/download?gad_source=1&gad_campaignid=21060752326&gbraid=0AAAAADOSICpQbHRKScmxK9EOYX81r70EI&gclid=Cj0KCQjwvajDBhCNARIsAEE29WrZmZQzRiE8AmbvEKIrftLjanVpRKUjxQWHvWCt-_dDBh7rEdffFfMaAk01EALw_wcB
https://www.ni.com/es/shop/labview/pid-theory-explained.html#:~:text=Un%20controlador%20PID%20es%20un,%2C%20velocidad%2C%20presi%C3%B3n%20y%20voltaje.
https://www.arduino.cc/
https://es.wikipedia.org/wiki/Arduino
https://wro-association.org/
https://es.wikipedia.org/wiki/Microcontrolador#:~:text=Un%20microcontrolador%20(abreviado%20%C2%B5C%2C%20UC,que%20cumplen%20una%20tarea%20espec%C3%ADfica.
https://es.wikipedia.org/wiki/Impresi%C3%B3n_3D
https://scoring.wro-association.org/es/
https://docs.github.com/es/get-started/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax
https://es.wikipedia.org/wiki/Sensor_ultras%C3%B3nico
https://naylampmechatronics.com/

## acknowledgments

We want to thank all of our parents for the sacrifice they have made to be able to take us and keep us there fighting to always be able to take another step forward.

To our school Instituto Episcopal San Jose,

To the Assistant Principal of our school Teacher Reina,

To our tutor,

To the teacher Vianka from Rincon Clubhouse,

To Estefani Torres Full Stack programmer in REACT, CSS, Java script, NODE.JS, (estefanidelosangelestorres@gmail.com)

To our school night inspector

And finally to ourselves for struggling to do a good job.

# END
__________________________________________________________________________

> [!CAUTION]
> Due to GitHub problems some charts and GIFs can load a little bit slow, so we beg you to be patient while reading to not miss anything, THANKS!


